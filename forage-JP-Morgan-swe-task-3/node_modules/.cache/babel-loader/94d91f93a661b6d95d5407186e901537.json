{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\forage-JP-Morgan-swe-task-3\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\forage-JP-Morgan-swe-task-3\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nexport var DataManipulator = /*#__PURE__*/function () {\n  function DataManipulator() {\n    _classCallCheck(this, DataManipulator);\n  }\n\n  _createClass(DataManipulator, null, [{\n    key: \"generateRow\",\n    value: function generateRow(serverResponds) {\n      var priceABC = (serverResponds[0].top_ask.price + serverResponds[0].top_bid.price) / 2;\n      var priceDEF = (serverResponds[1].top_ask.price + serverResponds[1].top_bid.price) / 2;\n      var ratio = priceABC / priceDEF;\n      var upperBound = 1 + 0.05;\n      var lowerBound = 1 - 0.05;\n      return {\n        price_abc: priceABC,\n        price_def: priceDEF,\n        ratio: ratio,\n        timestamp: serverResponds[0].timestamp > serverResponds[1].timestamp ? serverResponds[0].timestamp : serverResponds[1].timestamp,\n        upper_bound: upperBound,\n        lower_bound: lowerBound,\n        trigger_alert: ratio > upperBound || ratio < lowerBound ? ratio : undefined\n      };\n    }\n  }]);\n\n  return DataManipulator;\n}();","map":{"version":3,"names":["DataManipulator","serverResponds","priceABC","top_ask","price","top_bid","priceDEF","ratio","upperBound","lowerBound","price_abc","price_def","timestamp","upper_bound","lower_bound","trigger_alert","undefined"],"sources":["C:/Users/User/Documents/GitHub/forage-JP-Morgan-swe-task-3/src/DataManipulator.ts"],"sourcesContent":["import { ServerRespond } from './DataStreamer';\r\n\r\nexport interface Row {\r\n  price_abc: number,\r\n  price_def: number,\r\n  ratio: number,\r\n  timestamp: Date,\r\n  upper_bound: number,\r\n  lower_bound: number,\r\n  trigger_alert: number | undefined,\r\n}\r\n\r\n\r\nexport class DataManipulator {\r\n  static generateRow(serverResponds: ServerRespond[]) : Row {\r\n    const priceABC = (serverResponds[0].top_ask.price + serverResponds[0].top_bid.price) / 2;\r\n    const priceDEF = (serverResponds[1].top_ask.price + serverResponds[1].top_bid.price) / 2;\r\n    const ratio = priceABC / priceDEF;\r\n    const upperBound = 1 + 0.05;\r\n    const lowerBound = 1 - 0.05;\r\n    return {\r\n      price_abc: priceABC,\r\n      price_def: priceDEF,\r\n      ratio,\r\n      timestamp: serverResponds[0].timestamp > serverResponds[1].timestamp ?\r\n        serverResponds[0].timestamp : serverResponds[1].timestamp,\r\n      upper_bound: upperBound,\r\n      lower_bound: lowerBound,\r\n      trigger_alert: (ratio > upperBound || ratio < lowerBound) ? ratio : undefined,\r\n    };\r\n  }\r\n}\r\n"],"mappings":";;AAaA,WAAaA,eAAb;EAAA;IAAA;EAAA;;EAAA;IAAA;IAAA,4BACqBC,cADrB,EAC4D;MACxD,IAAMC,QAAQ,GAAG,CAACD,cAAc,CAAC,CAAD,CAAd,CAAkBE,OAAlB,CAA0BC,KAA1B,GAAkCH,cAAc,CAAC,CAAD,CAAd,CAAkBI,OAAlB,CAA0BD,KAA7D,IAAsE,CAAvF;MACA,IAAME,QAAQ,GAAG,CAACL,cAAc,CAAC,CAAD,CAAd,CAAkBE,OAAlB,CAA0BC,KAA1B,GAAkCH,cAAc,CAAC,CAAD,CAAd,CAAkBI,OAAlB,CAA0BD,KAA7D,IAAsE,CAAvF;MACA,IAAMG,KAAK,GAAGL,QAAQ,GAAGI,QAAzB;MACA,IAAME,UAAU,GAAG,IAAI,IAAvB;MACA,IAAMC,UAAU,GAAG,IAAI,IAAvB;MACA,OAAO;QACLC,SAAS,EAAER,QADN;QAELS,SAAS,EAAEL,QAFN;QAGLC,KAAK,EAALA,KAHK;QAILK,SAAS,EAAEX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SAAlB,GAA8BX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SAAhD,GACTX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SADT,GACqBX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SAL7C;QAMLC,WAAW,EAAEL,UANR;QAOLM,WAAW,EAAEL,UAPR;QAQLM,aAAa,EAAGR,KAAK,GAAGC,UAAR,IAAsBD,KAAK,GAAGE,UAA/B,GAA6CF,KAA7C,GAAqDS;MAR/D,CAAP;IAUD;EAjBH;;EAAA;AAAA"},"metadata":{},"sourceType":"module"}